#include <stdio.h>
struct bookinfo {
    int id;
    char title[20];
    char author[20];
    float price;
};
int n=0;
void sortID(struct bookinfo b[], int n) {
    int i, j,k;
    struct bookinfo temp;
    for(i=1;i<n;i++)
     {
       for(j=0;j<i;j++)
       {
          if(b[j].id>b[i].id)
          {
            temp=b[i];
            for(k=i-1;k>=j;k--){
            b[k+1]=b[k];
            }
            b[j]=temp;
            break;
      }
       }     
   }
}
void sortPrice(struct bookinfo b[], int n) {
    int i, j,k;
    struct bookinfo temp;
    for(i=1;i<n;i++)
     {
       for(j=0;j<i;j++)
       {
          if(b[j].price>b[i].price)
          {
            temp=b[i];
            for(k=i-1;k>=j;k--){
            b[k+1]=b[k];
            }
            b[j]=temp;
            break;
      }
       }     
   }
}

void insertBook(struct bookinfo b[]) {
    int a,i;
    printf("Enter the number of books to insert:");
    scanf("%d",&a);
    
    printf("\nEnter details of books:\n");
    for(i=0;i<a;i++){
    printf("Enter ID: ");
    scanf("%d", &b[n].id);
    printf("Enter Title: ");
    scanf("%s", b[n].title);
    printf("Enter Author: ");
    scanf("%s", b[n].author);
    printf("Enter Price: ");
    scanf("%f", &b[n].price);
    (n)++; 
    }
    printf("Book inserted successfully!\n");
}

void displayBooks(struct bookinfo b[], int n) {
    if (n == 0) {
        printf("No books available. Please insert books first.\n");
        return;
    }

    printf("\nBook details are:\n");
    for (int i = 0; i < n; i++) {
        printf("%d)\n", i + 1);
        printf("ID: %d\n", b[i].id);
        printf("Title: %s\n", b[i].title);
        printf("Author: %s\n", b[i].author);
        printf("Price: %.1f\n", b[i].price);
    }
}

int main() {
    struct bookinfo b[20];
    int ch; 

    do {
        printf("\nMenu:\n");
        printf("1. Insert a new book\n");
        printf("2. Sort books by ID\n");
        printf("3. Sort books by Price\n");
        printf("4. Display all books\n");
        printf("5. Exit\n");
        printf("Enter your choice: ");
        scanf("%d", &ch);

        switch (ch) {
            case 1:
                insertBook(b);
                break;
            case 2:sortID(b, n);
                    printf("Books sorted by ID.\n");
                break;
            case 3:sortPrice(b, n);
                    printf("Books sorted by Price.\n");
                   break;
            case 4:displayBooks(b, n);
                break;
            case 5:
                printf("Exiting program...\n");
                break;
            default:
                printf("Wrong choice! Please enter a valid option.\n");
        }
    } while (ch != 5);

    return 0;
}
